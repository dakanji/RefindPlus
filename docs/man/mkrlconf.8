.\" Copyright 2015-2021 Roderick W. Smith (rodsmith@rodsbooks.com)
.\" May be distributed under the GNU Free Documentation License version 1.3 or
any later version
.TH "MKRLCONF" "8" "0.13.3" "Roderick W. Smith" "rEFInd Manual"
.SH "NAME"
mkrlconf \- Create a Linux kernel configuration file for rEFInd
.SH "SYNOPSIS"
.BI "mkrlconf "
[ \-\-force ]

.SH "DESCRIPTION"

To boot a Linux kernel directly, rEFInd must normally pass system-specific
parameters to help the kernel locate its initial RAM disk (initrd) file,
the installation's root filesystem, and so on. rEFInd stores this
information in a file called \fIrefind_linux.conf\fR, which is stored in
the same directory as the kernel(s) to which it applies. The \fImkrlconf\fR
script creates this configuration file in \fI/boot\fR, using the current
boot options (from \fI/proc/cmdline\fR) to populate
\fI/boot/refind_linux.conf\fR with boot options that are probably (but not
certainly) correct.

The file created in this way has three lines, which correspond to three
entries on the rEFInd suboptions menu. The first entry boots using the
options found in \fI/proc/cmdline\fR. The second entry boots using the same
options as the first, but with \fBsingle\fR added. The third entry boots
with minimal options of \fBro root={CURRENT_ROOT_DEVICE}\fR, where
\fB{CURRENT_ROOT_DEVICE}\fR identifies the current root (\fI/\fR)
filesystem. Users may manually edit the \fIrefind_linux.conf\fR file to
suit their needs, of course.

.SH "OPTIONS"

.TP
.B \-\-force
Ordinarily, if \fImkrlconf\fR finds an existing
\fI/boot/refind_linux.conf\fR file, it refuses to replace it. The
\fB\-\-force\fR option causes \fImkrlconf\fR to replace the existing file
in favor of one it generates.

.SH "AUTHORS"
Primary author: Roderick W. Smith (rodsmith@rodsbooks.com)

.SH "SEE ALSO"
.BR mvrefind (8),
.BR refind-install (8).

\fIhttps://www.rodsbooks.com/refind/\fR

.SH "AVAILABILITY"
The \fBmkrlconf\fR command is part of the \fIrEFInd\fR package and is
available from Roderick W. Smith.
